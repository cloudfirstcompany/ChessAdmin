{% extends 'base.html' %}
{% load staticfiles %}

{% block body_block %}
<section class='section'>
  <div class='container'>
<script src="{% static "javascript/club_manage.js" %}"></script>
    <h1 class='title'>MANAGE MY CLUBS</h1>
    {% if clubs %}
    <table class='table'>
      <thead>
        <tr>
          <th>Club name</th>
          <th>Options</th>
        </tr>
      </thead>
      <tbody>
      {% for club in clubs %}
        <tr>
            <td><a href="{% url 'suite:club_view' club.id %}">{{ club.club_name }}</a></td>
          <td>
            <form method='POST' action="{% url 'suite:club_manage' %}">
              {% csrf_token %}
              <input type='hidden' name='club_id' value='{{ club.id }}' id="resign">
              <input class='button is-link' type="submit" formaction="{% url 'suite:club_manage' %}" name='resign' value='Resign' id="resign">
            </form>
            {% if "can_handle_promotion_requests" in club_perms %}
              <a href="{% url 'suite:club_edit' club.id %}" class='button is-link'>Edit</a>
            {% endif %}
          </td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
    {% else %}
    <div class="notification">
         No club settings to display. 
    </div>
    {% endif %}
  </div>
</section>
{% endblock body_block %}
